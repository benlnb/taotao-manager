<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.clive.mapper.TbItemMapper">
	<select id="findTbItemById" parameterType="long"
		resultType="com.clive.bean.TbItem">
		SELECT * FROM tbitem WHERE id = #{id}
	</select>

	<select id="findTbItemAll" parameterType="int" resultType="com.clive.bean.TbItem">
		SELECT * FROM tbitem LIMIT #{page},#{limit}
	</select>
	
	<select id="findTbitemCount" resultType="int">
		select count(*) from
		tbitem
	</select>
	
	<update id="delete" parameterType="list">
		update tbitem set status = 2 where id in
		<foreach collection="list" item="id" open="(" close=")" separator=",">
			#{id}
		</foreach>
	</update>

	<update id="putOn" parameterType="list">
		update tbitem set status = 1 where id in
		<foreach collection="list" item="id" open="(" close=")" separator=",">
			#{id}
		</foreach>
	</update>

	<update id="putOff" parameterType="list">
		update tbitem set status = 0 where id in
		<foreach collection="list" item="id" open="(" close=")" separator=",">
			#{id}
		</foreach>
	</update>

	<select id="findCatZtree" resultType="com.clive.bean.TbItemCat">
		SELECT * FROM tbitemcat
	</select>
	
	<insert id="addItem" parameterType="com.clive.bean.TbItem">
		insert into tbitem (title,sellPoint,price,num,barcode,image,cid,status,created,updated) values (#{title}, #{sellPoint}, #{price}, #{num}, #{barcode}, #{image}, #{cid}, #{status}, #{created}, #{updated})
	</insert>
	
</mapper>
